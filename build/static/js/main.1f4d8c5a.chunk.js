(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},16:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(8),u=n(4),l=n(6),o=n(1),i=function(e,t){switch(t.type){case"reset":return s;case"increment":return Object(o.a)({},e,{count:e.count+1});case"decrement":return Object(o.a)({},e,{count:e.count-1});case"pushData":return Object(o.a)({},e,{hasPermission:[].concat(Object(l.a)(e.hasPermission),Object(l.a)(t.data))});default:return e}},s={count:0,isAdmin:!1,hasPermission:[1,2,3,4,5]},m=Object(r.createContext)(),b=function(){return Object(r.useContext)(m)},E=function(e){var t=e.children,n=Object(r.useReducer)(i,s),a=Object(u.a)(n,2),l=a[0],o=a[1];return c.a.createElement(m.Provider,{value:{userStore:l,userDispatch:o}},t)},f=function(){var e=b(),t=e.userStore,n=e.userDispatch;return c.a.createElement("div",null,c.a.createElement("p",null,"You clicked ",t.count," times ",t.hasPermission.join("-")),c.a.createElement("button",{onClick:function(){return n({type:"increment"})}},"+"),c.a.createElement("button",{onClick:function(){return n({type:"decrement"})}},"-"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null))},p=n(5),d=n.n(p),j=n(9);var O=function(){var e=b(),t=e.userStore,n=e.userDispatch,a=Object(r.useState)({A:100,B:200}),l=Object(u.a)(a,2),i=l[0],s=l[1];Object(r.useEffect)(function(){console.log(123)},[]);var m=Object(r.useCallback)(function(){var e=Object(j.a)(d.a.mark(function e(t,r){var c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){setTimeout(function(){e([11,12,15])},2e3)});case 2:c=e.sent,console.log(c),n({type:"pushData",data:c});case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());return c.a.createElement("div",null,c.a.createElement("p",null,"You clicked ",JSON.stringify(t)," times"),c.a.createElement("br",null),"----------------------",c.a.createElement("br",null),c.a.createElement("div",null,"\u70b9\u51fb2\u79d2\u540e\u63d2\u5165\u6570\u636e(\u6a21\u62df\u5f02\u6b65)"),c.a.createElement("ul",null,t.hasPermission.map(function(e,t){return c.a.createElement("li",{key:t,onClick:function(){m(e,t)}},e)})),c.a.createElement("br",null),"----------------------",c.a.createElement("br",null),c.a.createElement("p",{onClick:function(){n({type:"reset"}),s(function(e){return Object(o.a)({},e,{A:e.A+2})})}},"\u70b9\u51fb\u521d\u59cb\u5316\u6570\u636e ",i.A),c.a.createElement("p",{onClick:function(){setTimeout(function(){n({type:"reset"})},2e3)}},"2\u79d2\u540e\u590d\u4f4d",i.B))},h=function(){var e=b(),t=e.userStore,n=e.userDispatch;return c.a.createElement("div",null,c.a.createElement("p",null,"You clicked ",t.count," times"),c.a.createElement("button",{onClick:function(){return n({type:"increment"})}},"+"),c.a.createElement("button",{onClick:function(){return n({type:"decrement"})}},"-"),c.a.createElement("br",null),"----------------------",c.a.createElement("br",null),c.a.createElement(O,null))},v=function(){return c.a.createElement(E,null,c.a.createElement(f,null),c.a.createElement(h,null))};Object(a.render)(c.a.createElement(v,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.1f4d8c5a.chunk.js.map