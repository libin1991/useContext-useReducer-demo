{"version":3,"sources":["Reducers/useUser.js","Components/Counter.js","Components/Demo2.js","Components/Demo.js","App.js","index.js"],"names":["reducer","state","action","type","initialState","Object","objectSpread","count","hasPermission","concat","toConsumableArray","data","isAdmin","Context","createContext","useUser","useContext","UserCtxProvider","_ref","children","_useReducer","useReducer","_useReducer2","slicedToArray","userStore","userDispatch","_react_16_13_1_react_default","a","createElement","Provider","value","Counter","_useUser","join","onClick","Demo2","_useState","useState","A","B","_useState2","setState","useEffect","console","log","click","useCallback","asyncToGenerator","regenerator_default","mark","_callee","b","wrap","_context","prev","next","Promise","res","rej","setTimeout","sent","stop","_x","_x2","apply","this","arguments","JSON","stringify","map","item","index","key","Demo","Components_Demo2","App","useUser_UserCtxProvider","Components_Counter","Components_Demo","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1f4d8c5a.chunk.js","sourcesContent":["import React, { useContext, createContext, useReducer } from 'react'\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"reset\":\r\n      return initialState\r\n    case \"increment\":\r\n      return { ...state, count: state.count + 1 }\r\n    case \"decrement\":\r\n      return { ...state, count: state.count - 1 }\r\n    case \"pushData\":\r\n      return { ...state, hasPermission: [...state.hasPermission, ...action.data] }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  count: 0,\r\n  isAdmin: false,\r\n  hasPermission: [1, 2, 3, 4, 5]\r\n}\r\n\r\n\r\nconst Context = createContext()\r\n\r\nexport const useUser = () => useContext(Context)\r\n\r\nexport const UserCtxProvider = ({ children }) => {\r\n  const [userStore, userDispatch] = useReducer(reducer, initialState)\r\n  return (\r\n    <Context.Provider value={{ userStore, userDispatch }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useUser } from '../Reducers/useUser'\r\n\r\n\r\nconst Counter = () => {\r\n  const { userStore, userDispatch } = useUser()\r\n\r\n  return (\r\n    <div>\r\n      <p>You clicked {userStore.count} times {userStore.hasPermission.join('-')}</p>\r\n\r\n      <button onClick={() => userDispatch({ type: \"increment\" })}>\r\n        +\r\n      </button>\r\n      <button onClick={() => userDispatch({ type: \"decrement\" })}>\r\n        -\r\n      </button>\r\n      <br />\r\n      <br />\r\n      <br />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Counter\r\n\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { useUser } from '../Reducers/useUser'\r\n\r\n\r\nfunction getData() {\r\n  return new Promise((res, rej) => {\r\n    setTimeout(() => {\r\n      res([11, 12, 15]);\r\n    }, 2000)\r\n  });\r\n}\r\n\r\n\r\n\r\nconst Demo2 = () => {\r\n  const { userStore, userDispatch } = useUser();\r\n  const [state, setState] = useState({\r\n    A: 100,\r\n    B: 200\r\n  });\r\n  useEffect(() => {\r\n    console.log(123);\r\n  }, [])\r\n  const click = useCallback(async (a, b) => {\r\n    const data = await getData();\r\n    console.log(data)\r\n    userDispatch({\r\n      type: \"pushData\",\r\n      data\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <p>You clicked {JSON.stringify(userStore)} times</p>\r\n      <br />\r\n      ----------------------\r\n      <br />\r\n      <div>点击2秒后插入数据(模拟异步)</div>\r\n      <ul>\r\n        {userStore.hasPermission.map((item, index) => {\r\n          return <li key={index} onClick={() => { click(item, index) }}>{item}</li>;\r\n        })}\r\n      </ul>\r\n      <br />\r\n      ----------------------\r\n      <br />\r\n\r\n      <p onClick={() => {\r\n        userDispatch({\r\n          type: \"reset\"\r\n        });\r\n        setState((state) => {\r\n          return {\r\n            ...state,\r\n            A: state.A + 2\r\n          }\r\n        })\r\n      }}>点击初始化数据 {state.A}</p>\r\n      <p onClick={() => {\r\n\r\n        setTimeout(() => {\r\n          userDispatch({\r\n            type: \"reset\"\r\n          });\r\n        }, 2000);\r\n\r\n\r\n      }}>2秒后复位{state.B}</p>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Demo2\r\n\r\n\r\n/*\r\n\r\nsetState((state) => {\r\n          return {\r\n            ...state,\r\n            B: state.B + 1\r\n          }\r\n        })\r\n\r\n\r\n*/","import React from 'react'\r\nimport { useUser } from '../Reducers/useUser'\r\nimport Demo2 from './Demo2'\r\n\r\n\r\nconst Demo = () => {\r\n  const { userStore, userDispatch } = useUser()\r\n\r\n  return (\r\n    <div>\r\n      <p>You clicked {userStore.count} times</p>\r\n\r\n      <button onClick={() => userDispatch({ type: \"increment\" })}>\r\n        +\r\n      </button>\r\n      <button onClick={() => userDispatch({ type: \"decrement\" })}>\r\n        -\r\n      </button>\r\n      <br />\r\n      ----------------------\r\n      <br />\r\n      <Demo2 />\r\n\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Demo\r\n","import React from 'react'\r\nimport { UserCtxProvider } from './Reducers/useUser';\r\n// import { SettingsCtxProvider } from './Reducers/useSettings';\r\n\r\nimport Counter from './Components/Counter'\r\nimport Demo from './Components/Demo'\r\n\r\n// import { Counter2 } from './Components/Counter2'\r\n\r\nconst App = () => {\r\n  return (\r\n    <UserCtxProvider>\r\n      <Counter />\r\n      <Demo />\r\n    </UserCtxProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport App from './App'\r\n\r\nrender(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}